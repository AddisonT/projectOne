<!DOCTYPE html>
<html>
<head>
	<meta charset=utf-8 />
	<title>A simple map</title>
	<style>
	body { margin:0; padding:0; }
	#map { position:relative; top:0; bottom:0; width:100%; height:100%;}
	</style>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
	<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
	<script src='https://api.tiles.mapbox.com/mapbox.js/v2.1.7/mapbox.js'></script>
	<link href='https://api.tiles.mapbox.com/mapbox.js/v2.1.7/mapbox.css' rel='stylesheet' />

</head>
<body>
	<div class="container">
		<div class="row maps" >
			<div class="col-md-8 col-xs-8 col-sm-8 col-lg-8">
				<h1>Home Location</h1>
				<div id='map' style="height:400px;"></div>
			</div>
			<div class="col-md-4 col-xs-4 col-sm-4 col-lg-4">
				<h1>People in Your Neighborhood</h1>
				<ul style="list-style: none;">
					<li><%= home.fullAdd  %></li>
				</ul>
			</div>
		</div></br>
		<div class="row maps" >
			<div class="col-md-8 col-xs-8 col-sm-8 col-lg-8">
				<h1>Work Location</h1>
				<div id='map2' style="height:400px;"></div>
			</div>
			<div class="col-md-4 col-xs-4 col-sm-4 col-lg-4"></div>
		</div>
	</div>
	<script>
	L.mapbox.accessToken = '<%= key %>';
	var map = L.mapbox.map('map', 'examples.map-i86nkdio')
	.setView([<%= home.lat %>, <%= home.lng %>], 13);
	var map2 = L.mapbox.map('map2', 'examples.map-i86nkdio')
	.setView([<%= work.lat %>, <%= work.lng %>], 13);
	var features = [];
	features.push({
		    // this feature is in the GeoJSON format: see geojson.org
		    // for the full specification
		    type: 'Feature',
		    geometry: {
		        type: 'Point',
		        // coordinates here are in longitude, latitude order because
		        // x, y is the standard for GeoJSON and many formats
		        coordinates: [
		          <%= home.lng %>, <%= home.lat %>
		        ]
		    },
		    properties: {
		        title: '<%= home.name  %>',
		        description: 'Home location of <%= home.name %>',
		        // one can customize markers by adding simplestyle properties
		        // https://www.mapbox.com/guides/an-open-platform/#simplestyle
		        'marker-size': 'large',
		        'marker-color': '#000',
		        'marker-symbol': 'building'
		    }
		});

	console.log(<%= homeL  %>);
	<% for(var i = 0; i< homeL.length ;i++){ %>
		features.push({
	        type: 'Feature',
	        geometry: {
	            type: 'Point',
	            coordinates: [<%= homeL[i].lng %>, <%= homeL[i].lat %>]
	        },
	        properties: {
	            'marker-color': '#000',
	            'marker-symbol': 'star-stroked',
	            title: '<%= homeL[i].name %>',
	            description: 'Home of <%= homeL[i].name %>'
	        }
	    });
	<%}%>
	console.log(features);
	L.mapbox.featureLayer(features).addTo(map);
	// var myMapOne = L.mapbox.featureLayer({
	// 	    // this feature is in the GeoJSON format: see geojson.org
	// 	    // for the full specification
	// 	    type: 'Feature',
	// 	    geometry: {
	// 	        type: 'Point',
	// 	        // coordinates here are in longitude, latitude order because
	// 	        // x, y is the standard for GeoJSON and many formats
	// 	        coordinates: [
	// 	          <%= home.lng %>, <%= home.lat %>
	// 	        ]
	// 	    },
	// 	    properties: {
	// 	        title: '<%= home.name  %>',
	// 	        description: 'Home location of <%= home.name %>',
	// 	        // one can customize markers by adding simplestyle properties
	// 	        // https://www.mapbox.com/guides/an-open-platform/#simplestyle
	// 	        'marker-size': 'large',
	// 	        'marker-color': '#000',
	// 	        'marker-symbol': 'building'
	// 	    }
	// 	}).addTo(map);

	var myMapTwo = L.mapbox.featureLayer({
		    // this feature is in the GeoJSON format: see geojson.org
		    // for the full specification
		    type: 'Feature',
		    geometry: {
		        type: 'Point',
		        // coordinates here are in longitude, latitude order because
		        // x, y is the standard for GeoJSON and many formats
		        coordinates: [
		          <%= work.lng %>, <%= work.lat %>
		        ]
		    },
		    properties: {
		        title: '<%= work.name  %>',
		        description: 'Home location of <%= work.name %>',
		        // one can customize markers by adding simplestyle properties
		        // https://www.mapbox.com/guides/an-open-platform/#simplestyle
		        'marker-size': 'large',
		        'marker-color': '#000',
		        'marker-symbol': 'suitcase'
		    }
		}).addTo(map2);
////////////////////////////////////////////////////////////

	</script>
</body>
</html>